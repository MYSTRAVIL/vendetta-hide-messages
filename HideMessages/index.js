(function(R,l,e,b,o,t,M,n,O,s,U){"use strict";var E={Failed:t.getAssetIDByName("Small"),Delete:t.getAssetIDByName("ic_message_delete"),Copy:t.getAssetIDByName("toast_copy_link"),Open:t.getAssetIDByName("ic_leave_stage"),Clipboard:t.getAssetIDByName("pending-alert"),Clock:t.getAssetIDByName("clock"),Forum:t.getAssetIDByName("ic_forum_channel"),Settings:{Toasts:{Settings:t.getAssetIDByName("ic_selection_checked_24px"),Failed:t.getAssetIDByName("ic_close_circle_24px")},Initial:t.getAssetIDByName("coffee"),Update:t.getAssetIDByName("discover"),Locale:t.getAssetIDByName("ic_locale_24px"),External:t.getAssetIDByName("ic_raised_hand_list"),Edit:t.getAssetIDByName("ic_edit_24px"),Reply:t.getAssetIDByName("ic_reply_24px")}},u={shadow:function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:.1;return{shadowColor:"#000",shadowOffset:{width:1,height:4},shadowOpacity:a,shadowRadius:4.65,elevation:8}},displayToast:function(a,i){e.toasts.open({content:i=="clipboard"?`Copied ${a} to clipboard.`:a,source:i=="clipboard"?E.Clipboard:E.Settings.Initial})}},A={plugin:{source:"https://github.com/MYSTRAVIL/vendetta-plugins"},author:{profile:{MYSTRAVIL:"https://github.com/mystravil"}}};const{TouchableOpacity:I,View:_,Image:$,Text:D,Animated:g}=o.General,w=l.findByProps("transitionToGuild"),v=l.findByStoreName("UserStore"),Y=l.findByProps("showUserProfile"),r=e.stylesheet.createThemedStyleSheet({container:{marginTop:25,marginLeft:"5%",marginBottom:-15,flexDirection:"row"},textContainer:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap",...u.shadow()},image:{width:75,height:75,borderRadius:10,...u.shadow()},mainText:{opacity:.975,letterSpacing:.25},header:{color:s.semanticColors.HEADER_PRIMARY,fontFamily:e.constants.Fonts.DISPLAY_BOLD,fontSize:25,letterSpacing:.25},subHeader:{color:s.semanticColors.HEADER_SECONDARY,fontSize:12.75}});function H(a){let{name:i,authors:c}=a;const d=e.React.useRef(new g.Value(1)).current,p=function(){return g.spring(d,{toValue:1.1,duration:10,useNativeDriver:!0}).start()},S=function(){return g.spring(d,{toValue:1,duration:250,useNativeDriver:!0}).start()},B=function(){return Y.showUserProfile({userId:v.getCurrentUser().id})},F={transform:[{scale:d}]};return e.React.createElement(e.React.Fragment,null,e.React.createElement(_,{style:r.container},e.React.createElement(I,{onPress:B,onPressIn:p,onPressOut:S},e.React.createElement(g.View,{style:F},e.React.createElement($,{style:[r.image],source:{uri:v?.getCurrentUser()?.getAvatarURL()?.replace("webp","png")}}))),e.React.createElement(_,{style:r.textContainer},e.React.createElement(I,{onPress:function(){return w.openURL(A.plugin.source)}},e.React.createElement(D,{style:[r.mainText,r.header]},i)),e.React.createElement(_,{style:{flexDirection:"row"}},e.React.createElement(D,{style:[r.mainText,r.subHeader]},"A project by"),c.map(function(h,y,T){return e.React.createElement(I,{onPress:function(){return w.openURL(A.author.profile[h.name]??"https://github.com/")}},e.React.createElement(D,{style:[r.mainText,r.subHeader,{paddingLeft:4,fontFamily:e.constants.Fonts.DISPLAY_BOLD,flexDirection:"row"}]},h.name,y<T.length-1?",":null))})))))}const{View:V,Text:G}=o.General,L=e.stylesheet.createThemedStyleSheet({text:{color:s.semanticColors.HEADER_SECONDARY,paddingLeft:"5.5%",paddingRight:10,marginBottom:10,letterSpacing:.25,fontFamily:e.constants.Fonts.PRIMARY_BOLD,fontSize:12}});function P(a){let{label:i,children:c}=a;return e.React.createElement(V,{style:{marginTop:10}},e.React.createElement(G,{style:[L.text,L.optionText]},i.toUpperCase()),c)}const{FormRow:x,FormDivider:z,FormInput:k,FormText:j}=o.Forms,{ScrollView:W,View:m,Text:K}=o.General,X=l.findByProps("transitionToGuild","openURL"),f=e.stylesheet.createThemedStyleSheet({icon:{color:s.semanticColors.INTERACTIVE_NORMAL},item:{color:s.semanticColors.TEXT_MUTED,fontFamily:e.constants.Fonts.PRIMARY_MEDIUM},container:{width:"90%",marginLeft:"5%",borderRadius:10,backgroundColor:s.semanticColors.BACKGROUND_MOBILE_SECONDARY,...u.shadow()},subheaderText:{color:s.semanticColors.HEADER_SECONDARY,textAlign:"center",margin:10,marginBottom:50,letterSpacing:.25,fontFamily:e.constants.Fonts.PRIMARY_BOLD,fontSize:14},image:{width:"100%",maxWidth:350,borderRadius:10}});function q(){return O.useProxy(n.storage),e.React.createElement(W,null,e.React.createElement(H,{name:n.manifest.name,authors:n.manifest.authors}),e.React.createElement(m,{style:{marginTop:20}},e.React.createElement(P,{label:"Preferences"},e.React.createElement(m,{style:[f.container]},e.React.createElement(k,{value:n.storage.hideMessagesIndex,onChange:function(a){n.storage.hideMessagesIndex=a},placeholder:"2",title:"Position Index"}),e.React.createElement(z,null),e.React.createElement(j,{style:{padding:10}},'The index at which the "Hide Message" Button will be inserted. 2 by default.'))),e.React.createElement(P,{label:"Source"},e.React.createElement(m,{style:f.container},e.React.createElement(x,{label:"Source",subLabel:`Open the repository of ${n.manifest.name} externally.`,onLongPress:function(){return u.displayToast(`Opens the repository of ${n.manifest.name} on GitHub in an external page to view any source code of the plugin.`,"tooltip")},leading:e.React.createElement(x.Icon,{style:f.icon,source:E.Open}),trailing:function(){return e.React.createElement(x.Arrow,null)},onPress:function(){return X.openURL(A.plugin.source)}})))),e.React.createElement(K,{style:f.subheaderText},`Build: (${n.manifest.hash.substring(0,8)})`))}let C=[];const N=l.findByProps("openLazy","hideActionSheet"),{FormRow:J,FormIcon:Q}=o.Forms;function Z(){U.logger.log("HideMessages: Index at ",n.storage.hideMessagesIndex),C.push(b.before("openLazy",N,function(a){let[i,c,d]=a;const p=d?.message;c!="MessageLongPressActionSheet"||!p||i.then(function(S){const B=b.after("default",S,function(F,h){e.React.useEffect(function(){return function(){B()}},[]);const y=M.findInReactTree(h,function(T){return T?.[0]?.type?.name==="ButtonRow"});y&&y.splice(n.storage.hideMessagesIndex||2,0,e.React.createElement(J,{label:"Hide Message",leading:e.React.createElement(Q,{style:{opacity:1},source:t.getAssetIDByName("ic_close_16px")}),onPress:function(){e.FluxDispatcher.dispatch({type:"MESSAGE_DELETE",id:p.id,__vml_cleanup:!0,otherPluginBypass:!0}),N.hideActionSheet()}}))})})}))}var ee={onLoad:Z,onUnload:function(){for(const a of C)a()},settings:q};return R.default=ee,Object.defineProperty(R,"__esModule",{value:!0}),R})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui.components,vendetta.ui.assets,vendetta.utils,vendetta.plugin,vendetta.storage,vendetta.ui,vendetta);
